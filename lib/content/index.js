import{__rest as e,__assign as t}from"../node_modules/tslib/tslib.es6.js";import n,{useState as i,useRef as o,useEffect as r}from"react";import a from"classnames";var d=null,l=function(i){var o=i.isline,r=i.margin,d=void 0===r?"20px 0":r,l=i.style,c=void 0===l?{}:l,s=i.className,m=i.children,u=e(i,["isline","margin","style","className","children"]);return n.createElement("div",t({className:a("self-adaption-header",s,{"self-adaption-header-inline":o}),style:t({margin:d},c)},u),m)},c=n.forwardRef((function(i,o){var r=i.backgroundColor,d=void 0===r?"#fff":r,l=i.padding,c=void 0===l?"16px":l,s=i.className,m=i.style,u=void 0===m?{}:m,f=i.children,v=e(i,["backgroundColor","padding","className","style","children"]);return n.createElement("div",t({ref:o,className:a("self-adaption-content",s),style:t({padding:c,backgroundColor:d},u)},v),f)})),s=function(o){var d=o.className,l=o.style,c=void 0===l?{}:l,s=o.reduceWidth,m=void 0===s?"200px":s,u=o.reduceDom,f=o.children,v=e(o,["className","style","reduceWidth","reduceDom","children"]),g=i("number"==typeof m?m+"px":m),h=g[0],p=g[1];return r((function(){if(u){var e=document.getElementById(u);if(e){new MutationObserver((function(e){e.forEach((function(t,n){e.length-1===n&&p(t.target.style.width)}))})).observe(e,{style:!0,attributeOldValue:!0,attributeFilter:["style"]})}}}),[]),n.createElement("div",t({className:a("self-adaption-content-footer-bar",d),style:t({width:"calc(100% - ".concat(h,")")},c)},v),f)},m=function(l){var c=l.reduceHeight,s=void 0===c?16:c,m=l.padding,u=void 0===m?"16px":m,f=l.minHeight,v=l.maxHeight,g=l.backgroundColor,h=void 0===g?"#fff":g,p=l.isscroll,y=void 0!==p&&p,b=l.isfooter,E=void 0!==b&&b,H=l.className,N=l.style,w=void 0===N?{}:N,x=l.children,C=l.onHeight,z=e(l,["reduceHeight","padding","minHeight","maxHeight","backgroundColor","isscroll","isfooter","className","style","children","onHeight"]),k=i("95%"),R=k[0],T=k[1],F=o();r((function(){return function(e,t,n){void 0===n&&(n=window);var i=!1;n.addEventListener(e,(function(){i||(i=!0,requestAnimationFrame((function(){n.dispatchEvent(new CustomEvent(t)),i=!1})))}))}("resize","optimizedResize"),L(),window.addEventListener("optimizedResize",L),function(){T(200),window.removeEventListener("optimizedResize",L),d&&(clearTimeout(d),d=null)}}),[]);var L=function(){d&&(clearTimeout(d),d=null),d=setTimeout((function(){var e=document.documentElement.clientTop,t=document.body.clientHeight-e;F&&F.current&&(t-=F.current.getBoundingClientRect().top),t-=s,C&&C(t),T(t)}),300)};return n.createElement("div",t({ref:F,className:a("self-adaption-content",H,{"self-adaption-scroll-content":y,"self-adaption-content-footer":E}),style:t({padding:u,minHeight:f||R,maxHeight:y?R:v,backgroundColor:h},w)},z),x)};m.Footer=s,m.HeaderItem=l,m.SearchContent=c;export{s as Footer,l as HeaderItem,c as SearchContent,m as default};
//# sourceMappingURL=index.js.map
